---
import BaseLayout from '../layouts/BaseLayout.astro';

const FORMSUBMIT_ENDPOINT = 'https://formsubmit.co/snakamoto404@gmail.com';
const NEXT_URL = 'https://snakamoto404.github.io/subscribed/';
---

<BaseLayout title="Subscribe | snakamoto404.github.io">
  <h1>Subscribe</h1>
  <div class="card">
    <p>Enter your email to receive daily feed updates.</p>

    <form action={FORMSUBMIT_ENDPOINT} method="POST">
      <label for="subscribe-email">Email address</label>
      <input id="subscribe-email" name="email" type="email" required autocomplete="email" />

      <!-- Action marker -->
      <input type="hidden" name="action" value="subscribe" />

      <!-- FormSubmit settings -->
      <input type="hidden" name="_subject" value="Research feed: subscribe" />
      <input type="hidden" name="_next" value={NEXT_URL} />

      <!-- Anti-spam honeypot (leave blank) -->
      <input type="text" name="_honey" style="display:none" tabindex={-1} autocomplete="off" />

      <button type="submit">Subscribe</button>
    </form>

    <p style="margin-top: 1rem; color: var(--muted);">
      No verification for now. If you subscribed by mistake, use <a href="/unsubscribe/">unsubscribe</a>.
    </p>
  </div>
</BaseLayout>
